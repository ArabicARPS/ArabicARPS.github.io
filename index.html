<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pop Cat Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #b9eaff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            user-select: none;
            overflow: hidden; /* لمنع ظهور شريط تمرير */
        }

        #score-board {
            font-size: 5rem;
            color: #ffffff;
            margin-bottom: 20px;
            font-weight: bold;
            -webkit-text-stroke: 2px #000; /* حدود سوداء للنص */
        }

        .cat-container {
            position: relative;
            cursor: pointer;
            text-align: center;
        }

        #cat-img {
            width: 350px; /* حجم القطة */
            height: auto;
            /* لضمان عدم اهتزاز الصورة عند التبديل */
            display: block; 
        }

        p {
            margin-top: 20px;
            color: #333;
            font-size: 1.2rem;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div id="score-board">0</div>

    <div class="cat-container" id="cat-zone">
        <img id="cat-img" src="https://media.tenor.com/14kAeUwtoJoAAAAe/pop-cat.png" alt="Pop Cat">
    </div>

    <p>اضغط للعب!</p>

    <img src="https://i.redd.it/8btmhq88z5s71.jpg" style="display:none;" alt="preload">

    <script>
        let score = 0;
        const scoreBoard = document.getElementById('score-board');
        const catImg = document.getElementById('cat-img');
        const catZone = document.getElementById('cat-zone');

        // روابط الصور
        const closedMouthUrl = "https://media.tenor.com/14kAeUwtoJoAAAAe/pop-cat.png";
        const openMouthUrl = "https://i.redd.it/8btmhq88z5s71.jpg";

        // رابط الصوت كما طلبته
        // ملاحظة: قد يحظره المتصفح لأنه رابط محلي (Local File)
        const audioSrc = "file:///C:/Users/actc/OneDrive/Desktop/office/pop-402324.mp3";
        const audio = new Audio(audioSrc);

        // دالة لفتح الفم
        function openMouth() {
            score++;
            scoreBoard.innerText = score;
            catImg.src = openMouthUrl;
            
            // تشغيل الصوت
            audio.currentTime = 0;
            audio.play().catch(e => console.log("قد يحتاج الصوت لتفاعل مسبق أو أن المسار المحلي محظور أمنياً"));
        }

        // دالة لإغلاق الفم
        function closeMouth() {
            catImg.src = closedMouthUrl;
        }

        // تفعيل الأحداث (للماوس واللمس)
        // عند الضغط
        document.addEventListener("mousedown", openMouth);
        document.addEventListener("touchstart", function(e) {
            e.preventDefault(); // منع التكبير
            openMouth();
        }, {passive: false});

        // عند رفع اليد
        document.addEventListener("mouseup", closeMouth);
        document.addEventListener("touchend", closeMouth);

        // إضافة دعم للكيبورد (مثلاً زر المسافة)
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space') {
                openMouth();
            }
        });
        document.addEventListener('keyup', function(event) {
            if (event.code === 'Space') {
                closeMouth();
            }
        });

    </script>
</body>
</html>
